name: Docs
on:
  push:
    branches: ["release/*", "docs/*"]
    paths: [docs, "**.md"]
  pull_request:
    paths: [docs, "**.md"]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: docker://pandoc/latex:latest
        with:
          args: >-
            sh -c
            "
            apk add make &&
            tlmgr install subfigure lastpage preprint adjustbox nag collectbox sectsty todonotes palatino mathpazo &&
            cd docs &&
            make
            "
      - uses: actions/upload-artifact@v1
        with:
          name: docs
          path: docs
